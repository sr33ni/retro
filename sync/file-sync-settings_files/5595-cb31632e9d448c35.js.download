(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5595],{1664:(e,a,s)=>{"use strict";s.d(a,{A:()=>n});var r=s(95155);s(12115);var t=s(65125),o=s(89939),i=s(65945);let n=e=>{let{buttonClassName:a,disabled:s,buttonName:n,handleClick:l,type:c="button",loading:d,icon:u,title:p}=e;return(0,r.jsxs)(t.$,{title:p,className:s?"".concat(a," disabled"):a||"",disabled:!!s,onClick:e=>{l(e)},type:c,children:[u&&(0,r.jsx)(i.g,{icon:u}),d?(0,r.jsx)(o.A,{}):n]})}},6347:(e,a,s)=>{"use strict";s.d(a,{G:()=>o,j:()=>t});var r=s(1213);let t=r.wA,o=r.d4},9321:(e,a,s)=>{"use strict";s.d(a,{Gz:()=>n,Mq:()=>i,QE:()=>c,S_:()=>f,XH:()=>u,jg:()=>d,lu:()=>h,px:()=>p,r:()=>l,sR:()=>m});var r=s(64739),t=s(87033),o=s(35161);function i(e){return r.RK.Post(t.HG,e)}function n(e){return r.mk.Post(t.T4,e)}let l=()=>null===r.mk||void 0===r.mk?void 0:r.mk.Get(t.B1,{cacheFor:{expire:0}}),c=e=>r.mk.Post(t.gU,e,{cacheFor:{expire:0}}),d=(e,a)=>{let s=(0,o.AsR)(e,a);return r.mk.Get(s,{cacheFor:{expire:0}})},u=()=>r.mk.Post(o.Wr1),p=e=>{let a=(0,o.v9$)(e);return r.mk.Get(a,{cacheFor:{expire:0}})},m=()=>r.RK.Get(o.uEd,{cacheFor:{expire:0}}),h=e=>r.Q0.Get((0,t.Fp)(e),{cacheFor:{expire:0},responseType:"blob"});function f(e){return r.mk.Get(t.cS,{params:e})}},15595:(e,a,s)=>{Promise.resolve().then(s.bind(s,52818))},31290:(e,a,s)=>{"use strict";s.d(a,{$:()=>o,w:()=>t});var r=s(70327);let t={auth:{clientId:"8e30b712-3206-4372-953e-138f3ab2b35f",authority:"https://login.microsoftonline.com/".concat("587e6fb2-7e06-4151-b02b-5efb09a279a3"),redirectUri:"http://localhost:3000/superadmin",postLogoutRedirectUri:"http://localhost:3000/superadmin"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(e,a)=>{e===r.$.Error&&console.error(a),e===r.$.Info&&console.info(a),e===r.$.Verbose&&console.debug(a),e===r.$.Warning&&console.warn(a)},logLevel:r.$.Info}}},o={scopes:["User.Read"],state:"superadmin_login"}},35161:(e,a,s)=>{"use strict";s.d(a,{AsR:()=>t,Wr1:()=>o,uEd:()=>n,v9$:()=>i});var r=s(48378);r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu,r.fu;let t=(e,a)=>"/api/v1/packages/limit/".concat(e,"/availability").concat(a?"?composerId=".concat(a):""),o="api/v1/packages/Get-packages",i=e=>"/api/v1/help/".concat(e),n="/api/v1/auth/sso/configuration"},41655:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});var r=s(95155);let t=e=>{let{value:a}=e;return(0,r.jsx)("p",{className:"error-msg pos-left",children:a})}},43554:(e,a,s)=>{"use strict";s.d(a,{A:()=>i});var r=s(95155),t=s(12115),o=s(41655);let i=(0,t.memo)(e=>{let{name:a,label:s,placeholder:i,onChange:n,value:l,handleBlur:c,type:d,size:u,maxLength:p,minLength:m,pattern:h,required:f,handleFocus:g,handleKeyDown:v,handleKeyUp:x,error:k,className:A,disabled:y,isMandatory:b,autofocus:C,autocompleteDisabled:N,id:j,autoComplete:E}=e,w=(0,t.useRef)(null);return(0,t.useEffect)(()=>{w&&w.current&&C&&w.current.focus()},[C]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{className:"form-label",children:s}),b&&(0,r.jsx)("span",{className:"mandatory-star",children:"*"}),(0,r.jsx)("input",{ref:w,disabled:y,className:y?"form-control ".concat("".concat(A," disabled")||0):"form-control ".concat(A||""),type:d,name:a,placeholder:i,onChange:e=>{n(e)},value:null!==l||void 0!==l?l:"",onBlur:e=>(e=>{if(!c)return null;c(e)})(e),onFocus:e=>{g&&g(e)},size:u,max:p,min:m||0,maxLength:p,pattern:h,required:f,onKeyDown:e=>(e=>{"number"===d&&("e"===e.key||"E"===e.key||"-"===e.key||"+"===e.key||"."===e.key)&&e.preventDefault(),v&&v(e)})(e),onKeyUp:e=>(e=>{if(!x)return null;x(e)})(e),autoComplete:E||(N?"off":"on"),id:j}),k&&""!==k&&(0,r.jsx)("div",{className:"input-number-error",children:(0,r.jsx)(o.A,{value:k})})]})})},48099:(e,a,s)=>{"use strict";s.d(a,{AJ:()=>y,Ay:()=>E,B5:()=>l,C4:()=>j,Hv:()=>N,IZ:()=>k,Kw:()=>c,XH:()=>b,ZB:()=>x,eO:()=>g,gL:()=>v,iE:()=>u,pv:()=>d,sD:()=>f,sX:()=>o,sx:()=>C,tG:()=>p,tX:()=>A,uw:()=>m,vO:()=>t});let r=(0,s(59267).Z0)({name:"shared",initialState:{isTemporaryPassword:!1,userData:null,aiSearchTriggeredFileId:"",aiSearchTriggeredFileName:"",isCookieBannerOpen:!1,isCookieCustomizeOpen:!1,isLoggedInAsImpersonate:!1,isPackageDetailsReload:!1,packageData:null,infoModalOpen:!1,infoModalOpenArea:"",msalConfig:null},reducers:{setTemporaryPassword:(e,a)=>{e.isTemporaryPassword=a.payload},setUserData:(e,a)=>{e.userData=a.payload},setAiSearchTriggeredFileId(e,a){e.aiSearchTriggeredFileId=a.payload},setAiSearchTriggeredFileName(e,a){e.aiSearchTriggeredFileName=a.payload},setCookieBannerOpen(e,a){e.isCookieBannerOpen=a.payload},setCookieCustomizeOpen(e,a){e.isCookieCustomizeOpen=a.payload},setIsLoggedInAsImpersonate(e,a){e.isLoggedInAsImpersonate=a.payload},setIsPackageDetailsReload(e,a){e.isPackageDetailsReload=a.payload},setPackageData(e,a){e.packageData=a.payload},setInfoModalOpen(e,a){e.infoModalOpen=a.payload},setInfoModalOpenArea(e,a){e.infoModalOpenArea=a.payload},setMsalConfig(e,a){e.msalConfig=a.payload}}}),{setTemporaryPassword:t,setUserData:o,setAiSearchTriggeredFileId:i,setAiSearchTriggeredFileName:n,setCookieBannerOpen:l,setCookieCustomizeOpen:c,setIsLoggedInAsImpersonate:d,setIsPackageDetailsReload:u,setPackageData:p,setInfoModalOpen:m,setInfoModalOpenArea:h,setMsalConfig:f}=r.actions,g=e=>e.shared.isTemporaryPassword,v=e=>e.shared.userData,x=e=>e.shared.isCookieBannerOpen,k=e=>e.shared.isCookieCustomizeOpen,A=e=>e.shared.isLoggedInAsImpersonate,y=e=>e.shared.isPackageDetailsReload,b=e=>e.shared.packageData,C=e=>e.shared.infoModalOpen,N=e=>e.shared.infoModalOpenArea,j=e=>e.shared.msalConfig,E=r.reducer},52818:(e,a,s)=>{"use strict";s.d(a,{default:()=>T});var r=s(95155),t=s(12008),o=s(20063),i=s(12115),n=s(65945),l=s(62692),c=s(38581),d=s(82862),u=s(82999),p=s(97005),m=s(6347),h=s(43554),f=s(97017),g=s(64739),v=s(87033),x=s(82713),k=s(48099),A=s(87005),y=s(24007),b=s(47837),C=s(31290),N=s(1664),j=s(67057);let E=e=>{let{isLoading:a,provider:s}=e,{instance:t}=(0,y.dk)(),o=async()=>{if(!t)throw Error("MSAL instance not available. Ensure the component is wrapped with MsalProvider.");(0,p.dB)(j.qQ.AUTHENTICATING),await t.loginRedirect(C.$)};return(0,r.jsx)(N.A,{buttonClassName:"my-3 h-48px btn btn-primary",buttonName:a?(0,r.jsx)("div",{className:"d-flex align-items-center justify-content-center gap-2",children:(0,r.jsx)("span",{children:"Loading..."})}):(0,r.jsx)("div",{className:"d-flex align-items-center justify-content-center gap-2",children:(0,r.jsxs)("span",{children:["Login with ",s]})}),handleClick:o,type:"button",loading:a,disabled:a})};var w=s(9321);let S=e=>{let{type:a,provider:s}=e,n=(0,o.useRouter)(),{accounts:c,instance:d}=(0,y.dk)(),m=(0,y.XI)(),h=(0,p.EO)(),[g,v]=(0,i.useState)(!1),{loading:x,send:k,onSuccess:C,onError:N}=(0,b.bP)(e=>(0,w.Mq)(e),{immediate:!1});return C(e=>{let{data:s}=e;if(s&&s.status&&s.output){let{accessToken:e,refreshToken:r,isValid:o}=s.output;if(o){(0,p.Lc)(e),(0,p.OL)(r),(0,p.v7)();let s="";(s=(0,l.getCookie)("fallback"))&&(0,l.deleteCookie)("fallback"),s?n.push(s):"user"===a?n.push(f.L.FILE_EXPLORER(h)):"admin"===a&&n.push(A.ue.USER_MANAGEMENT(h))}else t.oR.error(u.nQ_)}else t.oR.error((null==s?void 0:s.errorMessage)||u.UTQ);v(!1)}),N(()=>{(0,p.uT)(),v(!1)}),(0,i.useEffect)(()=>{if(m&&c.length>0&&!g){let{idToken:e}=c[0];e&&(v(!0),k({token:e})),(async()=>{await d.handleRedirectPromise()})()}},[m,c]),(0,r.jsx)("div",{children:(0,r.jsx)(E,{provider:s,isLoading:x||g})})};var O=s(52619),L=s.n(O);let R=()=>{let e=(0,p.EO)()||"";return(0,r.jsxs)("footer",{className:"privacy-footer",children:[(0,r.jsxs)("div",{className:"my-2 text-center text-xs",children:["\xa9 ",new Date().getFullYear()," Ritro. All rights reserved."]}),(0,r.jsxs)("div",{className:"flex-group-md justify-center items-center",children:[(0,r.jsx)(L(),{href:f.L.TERMS_AND_CONDITIONS(e),target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-blue-600",children:"Terms & Conditions"}),(0,r.jsx)("span",{className:"vertical-seperator"}),(0,r.jsx)(L(),{href:f.L.PRIVACY_POLICY(e),target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-blue-600",children:"Privacy Policy"})]})]})},D=(0,r.jsx)(n.g,{icon:c.pS3}),I=(0,r.jsx)(n.g,{icon:c.k6j}),T=e=>{let{type:a}=e,s=(0,o.useRouter)(),n=(0,p.gf)(),c=(0,p.EO)(),[y,b]=(0,i.useState)({}),[C,j]=(0,i.useState)(!1),[E,w]=(0,i.useState)(""),[O,L]=(0,i.useState)(""),[T,_]=(0,i.useState)(!1),P=(0,m.G)(k.eO),M=(0,m.G)(k.C4),G=(0,i.useCallback)(()=>{(0,l.setCookie)("email",E),(0,l.setCookie)("password",(0,p.FA)(O,"pwd"))},[E,O]),{sendLoginRequest:F,loginLoading:U,loginStatus:Y,loginError:q}=(()=>{let e=(0,m.j)(),[a,s]=(0,i.useState)(!1),[r,t]=(0,i.useState)(null),[o,n]=(0,i.useState)(!1);return{sendLoginRequest:a=>{if(!a)return void t("Login data is required");s(!1),t(null),n(!0);let r=v.LA;"user"===a.type&&(r=v.LA),g.RK.Post("".concat(r),{...a},{headers:{"X-Tenant-Id":a.tenantId}}).then(a=>{if(a&&a.status&&a.output){let r=a.output;r.isValid?(s(!0),r.accessToken&&(0,p.Lc)(r.accessToken),r.refreshToken&&(0,p.OL)(r.refreshToken),r.encUserID&&(0,p.QZ)(r.encUserID),e((0,k.vO)(r.firstLogin))):t(A.HN)}else t(x.UTQ)}).catch(()=>{}).finally(()=>{n(!1)})},loginLoading:o,loginStatus:a,loginError:r}})();(0,i.useEffect)(()=>{if(Y)if(n){let e=(0,l.getCookie)("fallback");if(e){(0,l.deleteCookie)("fallback"),s.push(e);return}"user"===a?P?s.push(f.L.CHANGE_PASSWORD(c)):s.push(f.L.FILE_EXPLORER(c)):"admin"===a&&s.push(A.ue.USER_MANAGEMENT(c))}else t.oR.error(u.nQ_)},[Y,n,a,c]),(0,i.useEffect)(()=>{q&&t.oR.error(q)},[q]),(0,i.useEffect)(()=>{T&&E&&O&&G()},[T]),(0,i.useEffect)(()=>{let e=(0,l.getCookie)("email"),a=(0,p.PV)((0,l.getCookie)("password"),"pwd");e&&a&&(_(!0),w(e),L(a))},[]);let B=()=>{var e;let s=(0,p.pM)({userEmail:E,userPassword:O},{userEmail:{required:!0,email:!0},userPassword:{required:!0}});b(s),(null==(e=Object.keys(s))?void 0:e.length)===0&&(F({email:E,password:O,type:a}),T&&G())},H=e=>{"Enter"===e.key&&B()},$=()=>{j(e=>!e)};return(0,r.jsx)(r.Fragment,{children:M?(0,r.jsxs)("div",{className:"msal-login-section",children:[(0,r.jsxs)("p",{className:"mb-2 text-center",children:["You’re signing in with your organization’s ",(0,r.jsx)("b",{children:null==M?void 0:M.ssoIdp})," account This portal uses your organization’s ID for secure access."]}),(0,r.jsxs)("p",{className:"mb-2 text-center",children:[(0,r.jsx)("b",{children:"Click below"})," to continue with your Microsoft credentials."]}),(0,r.jsx)(S,{type:a,provider:M.ssoIdp}),(0,r.jsx)("p",{className:"mt-2 text-center text-xs",children:"Your Microsoft credentials are never stored in this application"}),(0,r.jsx)(R,{})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"default-form",children:[(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)(h.A,{disabled:!1,value:E,name:"userEmailId",label:u.r1o,placeholder:u.qDp,required:!0,type:"text",onChange:e=>{w(e.target.value),b(e=>({...e,userEmail:""}))},isMandatory:!0,error:y.userEmail,className:(null==y?void 0:y.userEmail)&&(null==y?void 0:y.userEmail)!=="h-48px"?"input-validation-error h-48px":"h-48px",handleKeyDown:H,autocompleteDisabled:!0,autoComplete:"new-password"})}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)(h.A,{disabled:!1,value:O,name:"userPassword",label:u.GeY,placeholder:u.kGp,required:!0,type:C?"text":"password",onChange:e=>{L(e.target.value),b(e=>({...e,userPassword:""}))},isMandatory:!0,error:y.userPassword,className:(null==y?void 0:y.userPassword)&&(null==y?void 0:y.userPassword)!=="h-48px"?"input-validation-error h-48px":"h-48px",handleKeyDown:H}),(0,r.jsx)("i",{className:"show-password",role:"button",onKeyDown:$,tabIndex:0,onClick:$,children:C?D:I})]}),(0,r.jsxs)("div",{className:"login-form-footer ",children:[(0,r.jsxs)("div",{className:"remember-me-forgot-wrapper",children:[(0,r.jsxs)("div",{className:"remember-me",children:[(0,r.jsx)(d.dO,{className:"default-switch switch-sm",checked:T,onChange:e=>(e=>{_(e.target.value),e.target.value||((0,l.deleteCookie)("email"),(0,l.deleteCookie)("password"))})(e),onLabel:"",offLabel:""}),(0,r.jsx)("label",{children:u.DPH})]}),(0,r.jsx)("span",{className:"link-btn",onClick:()=>{s.push(f.L.FORGOT_PASSWORD(c))},children:u.s_W})]}),(0,r.jsx)(N.A,{buttonClassName:"w-100 h-48px btn btn-primary",buttonName:u.S3J,handleClick:B,type:"button",loading:U,disabled:U})]})]}),(0,r.jsx)(R,{})]})})}},53205:(e,a,s)=>{"use strict";s.d(a,{t:()=>r});var r=function(e){return e[e.LAST_30_DAYS=1]="LAST_30_DAYS",e[e.LAST_60_DAYS=2]="LAST_60_DAYS",e[e.CUSTOM_RANGE=3]="CUSTOM_RANGE",e}({})},65945:(e,a,s)=>{"use strict";s.d(a,{g:()=>r.g});var r=s(19740)},87005:(e,a,s)=>{"use strict";s.d(a,{A2:()=>l,Cf:()=>c,DR:()=>x,HN:()=>t,Jj:()=>n,MM:()=>i,O7:()=>f,Oy:()=>v,PM:()=>g,SC:()=>k,W7:()=>m,iV:()=>u,ii:()=>A,r$:()=>d,rh:()=>h,ro:()=>p,ue:()=>o});var r=s(53205);let t="Invalid Credentials",o={LOGIN:e=>"/".concat(e,"/admin/login"),DASHBOARD:e=>"/".concat(e,"/admin/dashboard"),USER_MANAGEMENT:e=>"/".concat(e,"/admin/user-management"),ROLE_MANAGEMENT:e=>"/".concat(e,"/admin/role-management"),AI_PACKAGE_AND_LOG:e=>"/".concat(e,"/admin/ai-package-log"),AUDIT_LOG:e=>"/".concat(e,"/admin/audit-log"),DOWNLOAD_REPORT:e=>"/".concat(e,"/admin/download-report/:token")};o.DASHBOARD;let i="Are you sure you want to log in as this user?",n="Query",l="Model",c="Response",d="Input Token",u="Output Token",p="AI Query and Response Summary",m=[{text:"Last 30 Days",value:r.t.LAST_30_DAYS},{text:"Last 60 Days",value:r.t.LAST_60_DAYS},{text:"Custom Range",value:r.t.CUSTOM_RANGE}],h="Reason",f="Enter reason for impersonation",g="Accepted file format: .lic",v="Add License",x="License successfully validated.",k="AI log export has been initiated. You will receive the log via email once the process is complete.",A="AI log export failed. Please try again later or contact support if the issue persists."},87033:(e,a,s)=>{"use strict";s.d(a,{B1:()=>u,Dv:()=>p,Fp:()=>g,HG:()=>f,LA:()=>h,N9:()=>i,Ou:()=>t,T4:()=>n,YO:()=>d,cS:()=>l,eV:()=>c,gU:()=>m,lj:()=>o,s_:()=>r});let r="/api/v1/users/forgot-password",t="/api/v1/users/reset-password",o="/api/v1/users/me/change-password",i="/api/v1/users/validate-forgotpassword-request",n="/api/v1/users/sharelist",l="/api/v1/users/map-user-listing",c="/api/v1/users/me",d="/api/v1/users/superadmin/me",u="/api/v1/tags",p="".concat("https://ritroapipydev.azurewebsites.net","/chat"),m="api/v1/tags/filesbytags",h="api/v1/auth/login",f="api/v1/auth/token",g=e=>"api/v1/files/".concat(e,"/download-report")},89939:(e,a,s)=>{"use strict";s.d(a,{A:()=>o});var r=s(95155),t=s(39465);let o=e=>{let{size:a}=e;return(0,r.jsx)(t.a,{size:a||"medium",type:"pulsing"})}}}]);