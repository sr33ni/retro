"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{47837:(e,t,r)=>{let n;r.d(t,{AV:()=>j,bP:()=>U});var l,s,i,o=r(1475),a=r(93547);function c(e,t={trackedKeys:{},bindError:o.jB,initialRequest:o.jB,...(0,o.xG)()}){let r=t=>e.ref?e.ref(t):{current:t};t=r(t).current;let n=r=>(e.export||o.lY)(r,t),l=t=>{if(!(0,o.fp)(e.memorize))return t;let r=e.memorize(t);return r.memorized=o.Q2,r},{dehydrate:s}=e,i=(r,n,l)=>r!==s(n,l,t)&&t.trackedKeys[l]&&e.update(r,n,l,t),a=e=>(0,o.qn)(e,e=>(0,o.hR)(e,o.gL)?e.e:e),u=[],d={};return{create:(r,l)=>((0,o.U6)(u,l),(0,o.UI)(o.qM,e.create(r,l,t),l,e=>s(e,l,t),n,(e,t)=>i(t,e,l))),computed:(r,l,i)=>((0,o.jJ)(l,e=>{e.k&&(d[e.k]=o.Q2)}),(0,o.UI)(o.gL,e.computed(r,a(l),i,t),i,e=>s(e,i,t),n)),effectRequest:r=>e.effectRequest(r,t),ref:r,watch:(r,n)=>e.watch(a(r),n,t),onMounted:r=>e.onMounted(r,t),onUnmounted:r=>e.onUnmounted(r,t),memorize:l,__referingObj:t,exposeProvider:e=>{let r={},n={},s=[];for(let i in e){let a=e[i];if((0,o.fp)(a)&&!t.trackedKeys[i])r[i]=i.startsWith("on")?(...e)=>(a(...e),f):a.memorized?a:l(a);else{(0,o.mK)(["uploading","downloading"],i)||i.startsWith("__")||(0,o.U6)(s,i);let e=(0,o.hR)(a,o.gL);e&&(n[i]=a.s),o.Ue.defineProperty(r,i,{get:()=>(t.trackedKeys[i]=o.Q2,e?a.e:a),set:o.lQ,enumerable:o.Q2,configurable:o.Q2})}}let{update:a,__proxyState:c}=r;t.trackedKeys={...d},t.bindError=o.jB;let{then:h}=r,v={__referingObj:t,update:l(e=>{(0,o.uv)(e).forEach(t=>{(0,o.mK)(u,t)?i(e[t],n[t],t):t in r&&(0,o.fp)(a)&&a({[t]:e[t]})})}),__proxyState:l(r=>(0,o.mK)(u,r)&&(0,o.hR)(e[r],o.gL)?(t.trackedKeys[r]=o.Q2,e[r]):c(r)),then(e,r){(0,o.jJ)(s,e=>{t.trackedKeys[e]=o.Q2});let n=()=>{(0,o.ZK)(f,"then"),e(f)};(0,o.fp)(h)?h(n,r):n()}},f=(0,o.vE)(r,v);return f},objectify:(e,t)=>e.reduce((e,r)=>(e[r.k]=t?r[t]:r,e),{}),transformState2Proxy:(e,r)=>(0,o.UI)(o.qM,e,r,e=>s(e,r,t),n,(e,t)=>i(t,e,r))}}!function(e){e[e.USE_REQUEST=1]="USE_REQUEST",e[e.USE_WATCHER=2]="USE_WATCHER",e[e.USE_FETCHER=3]="USE_FETCHER"}(l||(l={})),(0,o.V$)("");let u=(0,o.V$)("useRequest"),d=(0,o.V$)("useWatcher"),h=(0,o.V$)("useFetcher"),v=e=>({[l.USE_REQUEST]:u,[l.USE_WATCHER]:d,[l.USE_FETCHER]:h})[e],f="success",m="error",E="complete";class p{constructor(e,t){this.method=e,this.args=t}clone(){return{...this}}static spawn(e,t){return(0,o.UI)(p,e,t)}}class g extends p{constructor(e,t,r){super(e.method,e.args),this.data=t,this.fromCache=r}}class b extends p{constructor(e,t){super(e.method,e.args),this.error=t}}class S extends p{constructor(e,t,r,n,l){super(e.method,e.args),this.status=t,this.data=r,this.fromCache="error"!==t&&n,this.error=l}}let _=(e,t)=>t(),y={};function I(e,t,r,n,s=o.jB,i,u=0){var d,h,U;let j,C;r={...r};let Q=!!s,T=o.gV;if(s)try{let n=(0,o.y_)(t,v(e)),l=(0,o.SD)(n),s=l.l1Cache.get((0,o.BP)(l.id,(0,o.GL)(n)));if(s&&!(0,o.hR)(s,o.ck)){let[e,t]=s;(!t||t>(0,o.WB)())&&(T=e)}Q=!!(0,o.LI)(null!=(d=r.force)?d:o.jB)||!T}catch(e){}let{create:R,effectRequest:B,ref:O,objectify:w,exposeProvider:N,transformState2Proxy:V,__referingObj:L}=c((0,a.ZD)(),r.__referingObj),A={total:0,loaded:0},{managedStates:P={}}=r,k=((e,t)=>{let r={};for(let n in e)r[n]=t(e[n],n,e);return r})(P,(e,t)=>V(e,t)),G=R(null!=T?T:(0,o.fp)(n)?n():n,"data"),$=R(Q,"loading"),q=R(o.gV,"error"),x=R({...A},"downloading"),D=R({...A},"uploading"),F=w([G,$,q,x,D]),K=(0,o.QG)(),H=O((j=r,{m:o.gV,rf:{},fs:{},em:K,ht:e,c:j,ro:L,ms:{}})).current;H.fs=F,H.em=K,H.c=r,H.ms={...F,...k};let J=i!==o.gV,z=(e=t,r)=>(function e(t,r,n=[]){let s=v(t.ht),i=(0,o.y_)(r,s,n),{fs:c,ht:u,c:d}=t,{loading:h,data:I,error:U}=c,j=u===l.USE_FETCHER,{force:C=o.jB,middleware:Q=_}=d,{id:T}=(0,o.SD)(i),R=(0,o.GL)(i),{abortLast:B=o.Q2}=d,O=!t.m;return t.m=i,(async()=>{let v=o.lQ,_=o.jB,w=(0,o.Ov)(o.gV),N=o.lQ,V=o.lQ,L=await (0,a.VX)(i),A=()=>!!L,P=o.jB;if(!j){let e=y[T]=y[T]||{};e[R]||(e[R]=(0,o.UI)(Set)),e[R].add(t),v=()=>((e,t,r)=>{let n=y[e],l=n[t];n&&l&&(r?l.delete(r):l.clear(),0===l.size&&(0,o.ZK)(n,t))})(T,R,t)}let k=e=>{_=o.Q2;let{force:r=C,method:l=i}=e||{},s=(0,o.LI)(r,[(0,o.UI)(p,i,n)]),a=e=>({loaded:t,total:r})=>{c[e].v={loaded:t,total:r}};i=l,t.rf[R]=v,P||(h.v=!!s||!L);let{downloading:u,uploading:d}=t.ro.trackedKeys;return N=u?i.onDownload(a("downloading")):N,V=d?i.onUpload(a("uploading")):V,w=i.send(s),A=()=>i.fromCache||o.jB,w},G={method:i,cachedResponse:L,config:d,abort:()=>i.abort()},$=()=>u!==l.USE_WATCHER||!B||t.m===i,q=(e=o.Q2)=>{e&&O&&(h.v=o.jB),P=e},x=j?Q({...G,args:n,fetch:(r,...n)=>(s((0,o.hR)(r,a.IT),"expected a method instance."),e(t,r,n)),proxyStates:(0,o.cJ)(c,"data"),controlLoading:q},k):Q({...G,args:n,send:(...n)=>e(t,r,n),proxyStates:c,controlLoading:q},k),D=o.gV,F=p.spawn(i,n);try{let e=await x,r=e=>(j?t.c.updateState!==o.jB&&(0,o.jJ)(((e,t)=>{let r=y[e]||{};return r[t]?Array.from(r[t]):[]})(T,R),t=>{t.fs.data.v=e}):$()&&(I.v=e),$()&&(U.v=o.gV,P||(h.v=o.jB),t.em.emit(f,(0,o.UI)(g,F,e,A())),t.em.emit(E,(0,o.UI)(S,F,f,e,A(),o.gV))),e);D=e!==o.gV?r(e):_?await (0,o.xq)(w,r,()=>r(o.gV)):o.gV,_||P||(h.v=o.jB)}catch(e){throw $()&&(U.v=e,P||(h.v=o.jB),t.em.emit(m,(0,o.UI)(b,F,e)),t.em.emit(E,(0,o.UI)(S,F,m,o.gV,A(),e))),e}return N(),V(),D})()})(H,e,r),W=O(o.gV),M=O(o.jB),Z=O((0,o.dU)()).current,X=(e=L,t)=>{Z(()=>{(!a.eX.ssr||W.current)&&(L.initialRequest=M.current=o.Q2,(0,o.xq)(z(t),()=>{var e;null==(e=W.current)||e.resolve()},t=>{var r;if(!e.bindError&&!e.trackedKeys.error&&!W.current)throw t;null==(r=W.current)||r.reject(t)}))})},Y=O((h=(e,t,r)=>X(t,r),U=e=>(0,o.Et)(e)?(0,o.cy)(u)?u[e]:u:0,C=o.Pv,function(...e){let t=h.bind(this,...e),r=(0,o.Et)(U)?U:U(...e);C&&(0,o.gq)(C),r>0?C=(0,o.qj)(t,r):t()}));B({handler:J?e=>Y.current(e,L,t):()=>X(L),removeStates:()=>{(0,o.jJ)((0,o.KQ)(H.rf),e=>e())},frontStates:{...F,...k},watchingStates:i,immediate:null!=s?s:o.Q2});let ee=N({...w([G,$,q,x,D]),abort:()=>H.m&&H.m.abort(),send:(e,t)=>z(t,e),onSuccess(e){K.on(f,e)},onError(e){L.bindError=o.Q2,K.on(m,e)},onComplete(e){K.on(E,e)},then(e,t){let{promise:r,resolve:n,reject:l}=(0,o.vJ)();W.current={resolve:n,reject:l},(0,o.qj)(()=>{M.current||n()},10),(0,o.xq)(r,()=>{e(ee)},t)}});return ee}function U(e,t={}){let{immediate:r=o.Q2,initialData:n}=t,s=I(l.USE_REQUEST,e,t,n,!!r),{send:i}=s;return(0,o.vE)(s,{send:(...e)=>i(e)})}function j(e,t,r={}){d(t&&(0,o.Il)(t)>0,"expected at least one watching state");let{immediate:n,debounce:s=0,initialData:i}=r,a=I(l.USE_WATCHER,e,r,i,!!n,t,s),{send:c}=a;return(0,o.vE)(a,{send:(...e)=>c(e)})}(0,o.V$)("usePagination");let C="valueOf";Symbol("GlobalSQBoot"),Symbol("GlobalSQBefore"),Symbol("GlobalSQSuccess"),Symbol("GlobalSQError"),Symbol("GlobalSQFail"),(0,o.QG)(),(0,o.V$)("useSQRequest");let Q=Symbol("vdid");Symbol("original");function T(){return((e,t=o.Q2)=>{(e=>{let t=null==e?void 0:e[Q];t&&n&&(n[t]=o.gV)})(e);let r=null==e?void 0:e[Q];return(r?`[vd:${r}]`:o.gV)||(t?e:o.gV)})(this)}o.Ue.create(o.Pv,{[C]:(0,o.lu)(T)}),o.Ue.create(o.Pv,{[C]:(0,o.lu)(T)});class R{constructor(e,t={}){var r,n,l;this.cancelBubble=o.jB,this.currentTarget=o.Pv,this.defaultPrevented=o.jB,this.eventPhase=0,this.isTrusted=o.jB,this.returnValue=o.Q2,this.srcElement=o.Pv,this.target=o.Pv,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.type=e,this.bubbles=null!=(r=t.bubbles)&&r,this.cancelable=null!=(n=t.cancelable)&&n,this.composed=null!=(l=t.composed)&&l,this.timeStamp=Date.now()}preventDefault(){this.cancelable&&(this.defaultPrevented=!0)}stopImmediatePropagation(){}stopPropagation(){this.cancelBubble=!0}composedPath(){return[]}initEvent(e,t,r){}}R.NONE=0,R.CAPTURING_PHASE=1,R.AT_TARGET=2,R.BUBBLING_PHASE=3;let B="undefined"!=typeof Event?Event:R;class O extends B{constructor(e,t){super(e,{bubbles:o.Q2,cancelable:o.Q2,composed:o.Q2}),this.data=t.data,this.lastEventId=t.lastEventId,this.origin=t.origin||"",this.error=t.error}}let w=(0,o.V$)("EventSourceFetch");class N{constructor(e,t,r={}){this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,this.onopen=null,this.onmessage=null,this.onerror=null,this._listeners={},this._reconnectTime=null,this._controller=null,this._lastEventId="",this._origin="",this.url=e,this.readyState=N.CONNECTING,this._options={...r},this._reconnectTime=t;let n=(0,o.UI)(URL,e,window.location.href);this._origin=n.origin,e&&(0,o.qj)(()=>this._connect())}addEventListener(e,t){this._listeners[e]=this._listeners[e]||[],this._listeners[e].find(e=>e===t||(0,o.Gv)(e)&&(0,o.Gv)(t)&&(null==e?void 0:e.handleEvent)===t.handleEvent)||this._listeners[e].push(t)}removeEventListener(e,t){t&&this._listeners[e]&&(this._listeners[e]=(0,o.Az)(this._listeners[e],e=>e!==t&&("object"!=typeof e||"object"!=typeof t||(null==e?void 0:e.handleEvent)!==t.handleEvent)))}dispatchEvent(e){if(!(e instanceof O))return o.Q2;for(let t of this._listeners[e.type]||[])(0,o.fp)(t)?t(e):t&&(0,o.fp)(t.handleEvent)&&t.handleEvent(e);let t=this[`on${e.type}`];return(0,o.fp)(t)&&t(e),!e.defaultPrevented}close(){this.readyState!==N.CLOSED&&(this.readyState=N.CLOSED,this._dispatchEvent("close",""),this._controller&&(this._controller.abort(),this._controller=null))}_connect(){if(this.readyState===N.CLOSED)return;this._controller=(0,o.UI)(AbortController);let e=this._options,t=e.headers||{},r=["Accept","text/event-stream"],n="Last-Event-ID",l=this._lastEventId;if((0,o.cy)(t))(0,o.U6)(t,r),l&&(0,o.U6)(t,[n,l]);else if((0,o.hR)(t,Headers))t.append(r[0],r[1]),l&&t.append(n,l);else if((0,o.Gv)(t)){let[e,s]=r;t[e]=s,l&&(t[n]=l)}let s={...e,headers:t,signal:this._controller.signal};fetch(this.url,s).then(e=>{w(e.ok,`HTTP error: ${e.status}`),w(e.body,"ReadableStream not supported");let t=(0,o.UI)(URL,e.url);this._origin=t.origin,this.readyState=N.OPEN,this._dispatchEvent("open","");let r=e.body.getReader(),n=new TextDecoder,l="",s=({done:e,value:t})=>{if(e)return this.readyState!==N.CLOSED&&this._reconnect(),(0,o.Ov)();let i=(l+=n.decode(t,{stream:!0})).split(/\r\n|\r|\n/);return l=i.pop()||"",this._processEventStream(i),r.read().then(s).catch(e=>("AbortError"!==e.name&&this.readyState!==N.CLOSED&&this._onError(e),(0,o.Ov)()))};return r.read().then(s).catch(e=>{"AbortError"!==e.name&&this.readyState!==N.CLOSED&&this._onError(e)})}).catch(e=>{"AbortError"!==e.name&&this.readyState!==N.CLOSED&&this._onError(e)})}_processEventStream(e){let t="message",r="",n=null,l=null,s=()=>{if(r){if(r.endsWith("\n")&&(r=r.substring(0,r.length-1)),null!==n&&(this._lastEventId=n),null!==l&&null===this._reconnectTime){let e=parseInt(l,10);Number.isNaN(e)||(this._reconnectTime=e)}this._dispatchEvent(t,r)}t="message",r="",n=null,l=null};for(let i of e){let e,a;if(""===i){s();continue}if(i.startsWith(":"))continue;let c=i.indexOf(":");switch(-1===c?(e=i,a=""):(e=i.slice(0,c),a=i.slice(c+(" "===i[c+1]?2:1))),e){case"event":t=a;break;case"data":r=r?`${r}
${a}`:a;break;case"id":if(a.includes("\0"))continue;n=a;break;case"retry":l=a;break;default:throw(0,o.UI)(o.gs,"EventSource",`EventSource: Unknown field "${e}", ignoring`)}}}_dispatchEvent(e,t){let r=(0,o.UI)(O,e,{type:e,data:t,lastEventId:this._lastEventId,origin:this._origin});this.dispatchEvent(r)}_onError(e){let t=(0,o.UI)(O,"error",{type:"error",data:"",lastEventId:this._lastEventId,origin:this._origin,error:e});this.dispatchEvent(t),this.readyState!==N.CLOSED&&this._reconnect()}_reconnect(){var e;if(null!==this._reconnectTime&&this._reconnectTime<=0)return void this.close();if(this.readyState!==N.CLOSED){this.readyState=N.CONNECTING;let t=null!=(e=this._reconnectTime)?e:1e3;(0,o.qj)(()=>this._connect(),t)}}}N.CONNECTING=0,N.OPEN=1,N.CLOSED=2,Symbol("SSEOpen"),Symbol("SSEMessage"),Symbol("SSEError"),function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=2]="CLOSED"}(s||(s={})),(0,o.V$)("useSSE"),function(e){e.Open="open",e.Error="error",e.Message="message",e.Close="close"}(i||(i={}));let V=(0,o.V$)("useUploader");function L(e,{limit:t=0,localLink:r,replaceSrc:n,mode:l}={}){let{create:s,computed:i,exposeProvider:u,ref:d}=c((0,a.ZD)()),h=(0,o.QG)(),v=s([],"fileList"),_=i(()=>v.v[0],[v],"file"),y=s(!1,"uploading"),I=s(0,"successCount"),U=s(0,"failCount"),j=i(()=>({...v.v.reduce((e,{progress:t,status:r})=>(0!==r&&(e.total+=t.total,e.uploaded+=t.uploaded),e),{uploaded:0,total:0})}),[v],"progress"),C=i(()=>{var e;return null==(e=v.v.find(e=>e.error))?void 0:e.error},[v],"error"),Q=async(e={},n={})=>{var l;let s=e,i=n;e.file||(0,o.cy)(e)||(i=e,s=[]);let a=(0,o.cy)(s)?s:[s];0>=(0,o.Il)(a)&&(a=await L.selectFile(i)),V(t<=0||(0,o.Il)(v.v)+(0,o.Il)(a)<=t,`The number of files exceeds the limit of ${t}`);let{converters:c}=L,u=await o.ck.all((0,o.qn)(a,async e=>{let t=c.find(({is:t})=>t(e));V(t,`Invalid file type, only ${(0,o.qn)(c,({name:e})=>e).join(", ")} are supported, if other file needs, customize convert function with \`useUploader.convertFile.push({ is: ..., convert: ... })\``);let n=await t.convert(e);return V(n,"Failed to convert file"),{src:e.src||(r?URL.createObjectURL(n):void 0),file:n,status:0,progress:{uploaded:0,total:n.size}}})),d=null!=(l=i.start)?l:(0,o.Il)(v.v),h=(0,o.Az)(u,Boolean),f=[...v.v];return(0,o.V4)(f,d,0,...h),v.v=f,(0,o.Il)(u)},T=(e,t=[1,2],r="upload")=>{let n={upload:"uploaded",abort:"aborted"}[r],l=v.v;return(0,o.Il)(e)>0?(0,o.qn)(e,(e,r)=>{let s=(0,o.Et)(e),i=s?l[e]:e,a=s?`index ${e}`:`position ${r}`;return V(i,`The file of ${a} does not exist`),(0,o.Il)(t)>0&&V(!(0,o.mK)(t,i.status)&&(0,o.Gv)(i.file),`The file of ${a} cannot be ${n}, which status is ${i.status}`),i}):(0,o.Az)(l,e=>!(0,o.mK)(t,e.status))},R=(e,t)=>(0,o.Az)(e,e=>(0,o.Il)(t)>0?(0,o.mK)(t,e.status):o.Q2),B=d([]),O=(e,t)=>{v.v.findIndex(t=>t.file===e)>-1&&(0,o.U6)(B.current,{f:e,m:t})},w=e=>{B.current=(0,o.Az)(B.current,({m:t})=>t!==e)},N=(...e)=>{let t=T(e,[0,2,3],"abort"),r=[];(0,o.Il)(t)>0?(0,o.jJ)(t,({file:e})=>{let t=B.current.find(({f:t})=>t===e);t&&(0,o.U6)(r,t.m)}):(0,o.U6)(r,...(0,o.qn)(B.current,({m:e})=>e));let n=[];(0,o.jJ)(r,e=>{n.includes(e)||(0,o.U6)(n,e)}),(0,o.jJ)(n,e=>e.abort())},A=(e,t,r)=>{let n=p.spawn(e,[]);return{successEvent:(0,o.UI)(g,n,t,o.jB),errorEvent:(0,o.UI)(b,n,r),completeEvent:(0,o.UI)(S,n,r?m:f,t,o.jB,r)}},P=(e,t,r,l,s=0)=>{if(e.status=t,2===t){if(e.progress.uploaded=e.progress.total,n){let t=n(r,s);t&&(e.src=t)}}else 3===t&&(e.error=l);v.v=[...v.v]},k=async(...t)=>{let r=T(t);(0,o.jJ)(r,e=>{e.status=1});let n=(0,o.qn)(r,({file:e})=>({file:e,name:e.name}));return y.v=o.Q2,"batch"===l?((t,r)=>{let n=e(r);return n.onUpload(e=>{(0,o.jJ)(t,t=>{t.progress.uploaded=e.loaded*(t.progress.total/e.total)})}),(0,o.jJ)(t,({file:e})=>O(e,n)),n.then(e=>{(0,o.jJ)(t,(t,r)=>P(t,2,e,void 0,r)),I.v=(0,o.Il)(R(v.v,[2]));let{successEvent:r,completeEvent:l}=A(n,e);return h.emit(f,r),h.emit(E,l),e},e=>{(0,o.jJ)(t,t=>P(t,3,void 0,e)),U.v=(0,o.Il)(R(v.v,[3]));let{errorEvent:r,completeEvent:l}=A(n,void 0,e);return h.emit(m,r),h.emit(E,l),e}).finally(()=>{y.v=!1,w(n)})})(r,n):(t=>{let r=(0,o.qn)(t,(r,n)=>{let l=e({file:r.file,name:r.file.name});return l.onUpload(({loaded:e,total:r})=>{(0,o.jJ)(t,t=>{t.progress.uploaded=e,t.progress.total=r})}),O(r.file,l),l.then(e=>{P(r,2,e,o.gV,n),I.v+=1;let{successEvent:t,completeEvent:s}=A(l,e);return h.emit(f,t),h.emit(E,s),e},e=>{P(r,3,o.gV,e),U.v+=1;let{errorEvent:t,completeEvent:n}=A(l,o.gV,e);return h.emit(m,t),h.emit(E,n),e}).finally(()=>{w(l)})});return(0,o.$d)(o.ck.all(r),()=>{y.v=o.jB})})(r)};return u({fileList:v,uploading:y,file:_,progress:j,successCount:I,failCount:U,error:C,appendFiles:Q,removeFiles:(...e)=>{let t=T(e,[]);(0,o.Il)(t)>0?(N(...R(t,[1])),v.v=(0,o.Az)(v.v,e=>!(0,o.mK)(t,e)),I.v=(0,o.Il)(R(v.v,[2])),U.v=(0,o.Il)(R(v.v,[3]))):(N(...R(v.v,[1])),v.v=[])},upload:k,abort:N,onSuccess:e=>{h.on(f,e)},onError:e=>{h.on(m,e)},onComplete:e=>{h.on(E,e)}})}L.selectFile=({multiple:e,accept:t}={})=>{let r=document.createElement("input");return r.type="file",r.multiple=!!e,t&&(r.accept=t),r.click(),(0,o.UI)(Promise,e=>{r.addEventListener("change",()=>{e((0,o.qn)(Array.from(r.files||[]),e=>({file:e,name:e.name,mimeType:e.type})))})})};let A="text/plain";L.converters=[{name:"HTMLCanvasElement",is:({file:e})=>(0,o.hR)(e,HTMLCanvasElement),async convert({file:e,mimeType:t,name:r}){let n=await (0,o.UI)(o.ck,t=>null==e?void 0:e.toBlob(t));if(n)return(0,o.UI)(File,[n],r||"image.png",{type:t||n.type})}},{name:"base64",is:({file:e})=>(0,o.Kg)(e),convert({file:e="",mimeType:t,name:r}){var n;V(/data:.+;base64,/.test(e),"Invalid base64 string");let l=e.split(","),s=null==(n=l[0].match(/:(.*?);/))?void 0:n[1],i=atob(l[1]),a=new Uint8Array((0,o.Il)(i));return(0,o.jJ)(Array.from(i),(e,t)=>{a[t]=e.charCodeAt(0)}),(0,o.UI)(File,[a],r||"file",{type:t||s||A})}},{name:"File",is:({file:e})=>(0,o.hR)(e,File),convert:({file:e})=>e},{name:"Blob",is:({file:e})=>(0,o.hR)(e,Blob),convert:({file:e,name:t,mimeType:r})=>(0,o.UI)(File,[e],t||"file",{type:r||e.type||A})},{name:"ArrayBuffer",is:({file:e})=>(0,o.hR)(e,ArrayBuffer),convert:({file:e,name:t,mimeType:r})=>(0,o.UI)(File,[(0,o.UI)(Blob,[e])],t||"file",{type:r||A})}];let P=(e,t={})=>{let r=o.Q2,{enableFocus:n=o.Q2,enableVisibility:l=o.Q2,enableNetwork:s=o.Q2,pollingTime:i=0,throttle:u=1e3}=t,{onMounted:d,onUnmounted:h,__referingObj:v}=c((0,a.ZD)()),f=U(e,{...t,__referingObj:v}),m=()=>{r&&(f.send(),u>0&&(r=o.jB,setTimeout(()=>{r=o.Q2},u)))},E=o.lQ,p=o.lQ,g=o.lQ,b=o.lQ;return d(()=>{a.eX.ssr||(E=s?P.onNetwork(m,t):E,p=n?P.onFocus(m,t):p,g=l?P.onVisibility(m,t):g,b=i>0?P.onPolling(m,t):b)}),h(()=>{E(),p(),g(),b()}),f},k=(e,t)=>(window.addEventListener(e,t),()=>window.removeEventListener(e,t));P.onNetwork=e=>k("online",e),P.onFocus=e=>k("focus",e),P.onVisibility=e=>k("visibilitychange",()=>"visible"===document.visibilityState&&e()),P.onPolling=(e,t)=>{let r=setInterval(e,t.pollingTime);return()=>clearInterval(r)},(0,o.V$)("useCaptcha"),Symbol("FormRestore"),(0,o.QG)(),Symbol("RetriableRetry"),Symbol("RetriableFail"),(0,o.V$)("useRetriableRequest"),(0,o.V$)("subscriber")}}]);